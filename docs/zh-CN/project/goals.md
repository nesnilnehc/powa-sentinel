# 项目目标

## 背景

PoWA 具备完整的性能采集与分析能力，但仅提供 Web 可视化，缺乏主动通知、异常检测和趋势告警。实践中，人们往往不会主动查看监控大盘。

## 目标

构建**独立、低风险、可持续运行**的 PoWA 推送服务，将 PoWA 的分析结果转化为可操作信息，并通过企业渠道（如企业微信）触达相关人员。

## 核心能力

1. **数据采集**：定期从 PoWA 拉取性能统计
2. **场景识别**：
   - 慢 SQL Top N（按耗时，或 `pg_stat_kcache` 的 CPU/IO）
   - 耗时/调用量异常增长
   - 性能回归
   - 缺失索引建议（通过 `pg_qualstats` + hypopg）
3. **消息推送**：企业微信（可扩展飞书、钉钉、Webhook）
4. **非功能**：低侵入、只读、稳定、易维护、健康检查

## 设计原则

- 推送**结论**，而非原始数据
- 信息分级：L1（摘要）→ L2（技术负责人）→ L3（DBA 详情）
- 独立进程，不修改 PoWA 代码
- 仅只读访问数据库

## 路线图

1. 可配置规则（YAML / DSL）
2. 多实例 / 多租户
3. 推送去重与抑制
4. 与发布/变更事件的关联分析
